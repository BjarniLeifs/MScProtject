<div class="container">
    <div class="row topmargin">
        <div class="col-md-10">  
              <h1>Tæki</h1>
        </div>
        <div class="col-md-2 pull-right">  
            <button ng-model="sub" ng-click="sub=!sub; sub1=sub2=false"  ng-show="isAdmin"type="button" class="btn btn-default pull-right">Bæta við tæki</button>
        </div>
    </div>
</div>


<div class="container"> 
  <div ng-show="sub" class="row">
    <form class="form-horizontal" ng-submit="addDevice()">   
      <div class="white-bg">
        <div class="row "> 
          <div class="col-md-12">      
            <div class="col-md-4"> 
              <div ng-show="error" class="alert alert-danger row">
                  <span>{{ error.message }}</span>
              </div>
              <div class="form-group">
                <label for="mySelect" class="col-sm-3 control-label">Tæki Tegund:</label>              
                <ui-select ng-model="data.itemSelected" class="col-sm-9">
                  <ui-select-match>
                    <span ng-bind="$select.selected.name"></span>
                  </ui-select-match>
                  <ui-select-choices repeat="item in (data.itemTypeOptions| filter: $select.search) track by item.id">
                  <span ng-bind="item.name"></span>
                  </ui-select-choices>
                </ui-select>
              </div>
              <div class="form-group">
                <label for="mySelect"class="col-sm-3 control-label">Eigandi:</label>
                <ui-select ng-model="data.contactOwnerSelected"  class="col-sm-9">
                  <ui-select-match>
                    <span ng-bind="$select.selected.name"></span>
                  </ui-select-match>
                  <ui-select-choices repeat="item in (data.contactOwnerAvailable| filter: $select.search) track by item.id">
                    <span ng-bind="item.name"></span>
                  </ui-select-choices>
                </ui-select>
              </div>
              <div class="form-group">
                <label for="mySelect" class="col-sm-3 control-label">Framleiðandi:</label>
                <ui-select ng-model="data.contactProducerSelected"  class="col-sm-9">
                  <ui-select-match>
                    <span ng-bind="$select.selected.name"></span>
                  </ui-select-match>
                  <ui-select-choices repeat="item in (data.contactProducerAvailable| filter: $select.search) track by item.id">
                    <span ng-bind="item.name"></span>
                  </ui-select-choices>
                </ui-select>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label for="mySelect" class="col-sm-3 control-label">Staða:</label>
                <ui-select ng-model="data.statusSelected"  class="col-sm-9">
                  <ui-select-match>
                    <span ng-bind="$select.selected.name"></span>
                  </ui-select-match>
                  <ui-select-choices repeat="item in (data.statusAvailable| filter: $select.search) track by item.id">
                    <span ng-bind="item.name"></span>
                  </ui-select-choices>
                </ui-select>
              </div>


              <div class="form-group">
                <label for="file" class="col-sm-3 control-label">Mynd</label>
                <div class="col-sm-9">
                  <input type="file" ngf-select ngf-change="uploadItemPic(picFile)"  ng-model="picFile" name="file" accept="image/*" ngf-max-size="2MB">
                </div>
                
              </div>

            </div>  
            <div class="col-md-4"> 
              <div class="form-group">
                <div class="col-md-9 topmargin">
                  <img ng-show="myForm.file.$valid" ngf-thumbnail="picFile" class="thumb pull-right"> 
                </div>
              </div>
            </div>  
            <div class="col-md-12 pull-right margin-b3">
              <div class="form-group">
                <button ng-click="sub2=sub=false ; sub1=true"  type="submit" class="btn btn-default pull-right">Skrá tæki</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
<div class="container"> 
  <div ng-show="sub1" class="row">
    <form class="form-horizontal" ng-submit="additemstation()">   
      <div class="white-bg">
          <div class="row "> 
            <div class="col-md-12">      
              <div class="col-md-6"> 
                <div ng-show="error" class="alert alert-danger row">
                  <span>{{ error.message }}</span>
                </div>
                <div class="form-group">
                  <label for="mySelect" class="col-sm-4 control-label">Skrá stöð á tæki :</label>
                  <ui-select ng-model="device.station"  class="col-sm-6">
                    <ui-select-match>
                       <span ng-bind="$select.selected.name"></span>
                    </ui-select-match>
                    <ui-select-choices repeat="item in (data.stationAvailable| filter: $select.search)  track by item.id">
                      <span ng-bind="item.name"></span>
                    </ui-select-choices>
                  </ui-select>
                </div>
              </div>
              <div class="col-md-4">    
                <button ng-click="sub2=true; sub=sub1=false" type="submit" class="btn btn-default pull-right margin-l1 ">Skrá stöð</button>
                <button ng-click="sub2=true; sub=sub1=false" class="btn btn-default pull-right">Sleppa</button>
              </div>    
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>


<div class="container"> 
  <div ng-show="sub2" class="row">
    <form class="form-horizontal">   
      <div class="white-bg">
        <div class="row "> 
          <div class="col-md-12">      
            <div class="col-md-6"> 
              <div ng-show="error" class="alert alert-danger row">
                  <span>{{ error.message }}</span>
              </div>
              <div class="form-group">
                <label for="mySelect" class="col-sm-4 control-label">Setja eiginleika:</label>    
                <ui-select ng-model="data.attributesSelected" class="col-sm-6">
                  <ui-select-match>
                     <span ng-bind="$select.selected.name"></span>
                  </ui-select-match>
                  <ui-select-choices repeat="item in showattribute | filter: $select.search track by item.id">
                    <span ng-bind-html="item.name | highlight: $select.search"></span>
                  </ui-select-choices>
                </ui-select>

              </div>
              <div class="form-group">
                  <label for="attrVal" class="col-sm-4 control-label">Gildi</label>
                  <div class="col-sm-6">
                    <input type="text" class="form-control" ng-model="attributeadd.value" name="attrVal" placeholder="">
                  </div>
              </div>
                <div class=" col-md-5 pull-right btn-right">
                  <button class="btn btn-default pull-right " ng-click="addNewChoice()">Bæta við</button>
                </div>
            </div>
            <div class="col-md-6">
              <table class="table table-striped table-advance table-hover">
                <tbody>
                  <tr> 
                      <th><i class="icon_profile"></i> Attribute</th>
                      <th><i class="icon_pin_alt"></i> Value</th>
                      <th><i class="icon_pin_alt"></i> device id</th>
                      <th ng-show="isAdmin"><i class="icon_cogs"></i> Aðgerðir</th>
                  </tr>
                  <tr data-ng-repeat="d in attributesAdd"> 
                      <td>{{ d.name }}</td>
                      <td>{{ d.value }}</td>
                      <td>{{ d.itemID}}</td>
                      <td ng-show="isAdmin">
                          <div class="btn-group">
                              <a class="btn btn-primary"><i class="icon_plus_alt2"></i></a>
                              <a class="btn btn-success"><i class="icon_check_alt2"></i></a>
                              <a class="btn btn-danger" ng-click ="removeChoice()"><i class="icon_close_alt2"></i></a>
                          </div>
                      </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="col-md-12 pull-right margin-b3">
              <div class="form-group">
                <button class="btn btn-default pull-right" ng-click="addattributes(); sub=sub1 = false">Skrá</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>


<div class="container white-bg1">
    <div class="row pad-top">
        <div class="col-md-12">
            <div class="form-group has-feedback">
                <label for="search" class="sr-only">Sláðu inn leitarorð</label>
                <input type="text" ng-model="searchText" class="form-control" name="search" id="search" placeholder="Sláðu inn leitarorð">
                <span class="glyphicon glyphicon-search form-control-feedback"></span>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <table>
                <tbody>
                  <tr> 
                    <th><i class="glyphicon glyphicon-modal-window"></i>Nafn tækis</th>
                    <th><i class="glyphicon glyphicon-user"></i>Eigandi</th>
                    <th><i class="glyphicon glyphicon-equalizer"></i>Framleiðandi</th>
                    <th><i class="glyphicon glyphicon-info-sign"></i>Lýsing</th>
                    <th><i class="glyphicon glyphicon-info-home"></i>Stöð</th>
                    <th><i class="glyphicon glyphicon-map-marker"></i> Staðsetning</th>

                    <th ng-show="isAdmin"><i class="glyphicon glyphicon-cog"></i> Aðgerðir</th>
                  </tr>
                  <tr dir-paginate="d in devices |  filter:searchText | itemsPerPage:3"> 
                     <!--<td><a ui-sref="home.edit.device({name :device.name})">{{ device.name }}</a></td>-->
                    <td><a ui-sref="home.itemprofile({id :d.iid})">{{ d.name }}</a></td>
                    <td>{{ d.cdname }}</td>
                    <td>{{ d.cname }}</td>
                    <td>{{ d.comment }}</td>
                    <td>{{ d.stname }}</td>
                    <td>{{ d.sname }}</td>
                    <td ng-show="isAdmin">
                        <div class="btn-group">
                             <button type="button" ui-sref="home.itemedit({id :d.iid})" class="btn-small pull-right"><i class="glyphicon glyphicon-edit"></i></button>
                             <button type="button" ng-click ="itemDelete($index)" class="btn-small pull-right"><i class="glyphicon glyphicon-remove"></i></button> 
                        </div>
                    </td>
                  </tr>   
                </tbody>
            </table>
            <dir-pagination-controls max-size="5" direction-links="true" boundary-links="true" > </dir-pagination-controls>
        </div>

    </div>
</div>